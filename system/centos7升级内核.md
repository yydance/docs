### å‰è¨€
æ´»è·ƒå„ç±»åˆ«å†…æ ¸ç‰ˆæœ¬è§[å®˜æ–¹](https://www.kernel.org/category/releases.html)ã€‚  
ä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªç±»åˆ«ï¼š  
- **Prepatch**  
Prepatchæˆ–â€œRCâ€å†…æ ¸æ˜¯ä¸»çº¿å†…æ ¸é¢„å‘è¡Œç‰ˆï¼Œä¸»è¦é’ˆå¯¹å…¶ä»–å†…æ ¸å¼€å‘äººå‘˜å’ŒLinuxçˆ±å¥½è€…ã€‚å®ƒä»¬å¿…é¡»ä»æºä»£ç ç¼–è¯‘ï¼Œå¹¶ä¸”é€šå¸¸åŒ…å«å¿…é¡»åœ¨å¯ä»¥æ”¾å…¥ç¨³å®šç‰ˆæœ¬ä¹‹å‰è¿›è¡Œæµ‹è¯•çš„æ–°åŠŸèƒ½ã€‚å‡†å¤‡å†…æ ¸ç”±Linus Torvaldsç»´æŠ¤å’Œå‘å¸ƒã€‚  
- **Mainline**  
ä¸»çº¿æ ‘ç”±Linus Torvaldsç»´æŠ¤ã€‚å®ƒæ˜¯å¼•å…¥æ‰€æœ‰æ–°åŠŸèƒ½çš„æ ‘ï¼Œä»¥åŠæ‰€æœ‰ä»¤äººå…´å¥‹çš„æ–°å¼€å‘é¡¹ç›®ã€‚æ–°çš„ä¸»çº¿å†…æ ¸æ¯2-3ä¸ªæœˆå‘å¸ƒä¸€æ¬¡ã€‚  
- **Stable**  
åœ¨æ¯ä¸ªä¸»çº¿å†…æ ¸å‘å¸ƒåï¼Œå®ƒè¢«è®¤ä¸ºæ˜¯â€œç¨³å®šçš„â€ã€‚ä»»ä½•é’ˆå¯¹ç¨³å®šå†…æ ¸çš„é”™è¯¯ä¿®å¤éƒ½ä»ä¸»çº¿æ ‘åå‘ç§»æ¤ï¼Œå¹¶ç”±æŒ‡å®šçš„ç¨³å®šå†…æ ¸ç»´æŠ¤è€…åº”ç”¨ã€‚åœ¨ä¸‹ä¸€ä¸ªä¸»çº¿å†…æ ¸å¯ç”¨ä¹‹å‰ï¼Œé€šå¸¸åªæœ‰å°‘æ•°bugfixå†…æ ¸ç‰ˆæœ¬å¯ç”¨ - é™¤éå®ƒè¢«æŒ‡å®šä¸ºâ€œé•¿æœŸç»´æŠ¤å†…æ ¸â€ã€‚æ ¹æ®éœ€è¦å‘å¸ƒç¨³å®šçš„å†…æ ¸æ›´æ–°ï¼Œé€šå¸¸æ¯å‘¨ä¸€æ¬¡ã€‚
- **Longterm**  
é€šå¸¸æœ‰å‡ ä¸ªâ€œé•¿æœŸç»´æŠ¤â€å†…æ ¸ç‰ˆæœ¬ï¼Œç”¨äºå‘æ—§å†…æ ¸æ ‘çš„åç«¯ç§»æ¤é”™è¯¯ä¿®å¤ã€‚åªæœ‰é‡è¦çš„é”™è¯¯ä¿®æ­£åº”ç”¨äºæ­¤ç±»å†…æ ¸ï¼Œå¹¶ä¸”å®ƒä»¬é€šå¸¸ä¸ä¼šçœ‹åˆ°éå¸¸é¢‘ç¹çš„ç‰ˆæœ¬ï¼Œç‰¹åˆ«æ˜¯å¯¹äºè¾ƒæ—§çš„æ ‘ã€‚  

centos7ç³»ç»Ÿå¯ä»¥ä½¿ç”¨`uname -r`æŸ¥çœ‹å…¶å†…æ ¸ç‰ˆæœ¬ã€‚
### å‡çº§å†…æ ¸
**1.æ›´æ–°ä»“åº“**  
```
yum -y update
```
**2.å¯ç”¨ELRepoæº**  
ELRepoä»“åº“æ˜¯åŸºäºç¤¾åŒºçš„ä¼ä¸šçº§Linuxä»“åº“ï¼Œæä¾›å¯¹RedHat Enterprise (RHEL)å’Œå…¶ä»–åŸºäº RHELçš„Linuxå‘è¡Œç‰ˆï¼ˆCentOSã€Scientificã€Fedora ç­‰ï¼‰çš„æ”¯æŒã€‚ 

å¯ç”¨ELRepoä»“åº“ï¼š  
```
rpm --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org
yum install https://www.elrepo.org/elrepo-release-7.0-3.el7.elrepo.noarch.rpm
```
**3.æŸ¥çœ‹elrepoä»“åº“kernel**  
```
yum --disablerepo="*" --enablerepo="elrepo-kernel" list available
```
**4.å®‰è£…æœ€æ–°å†…æ ¸**  
```
yum -y --disablerepo="*" --enablerepo="elrepo-kernel" install kernel-ml
```
**5.è®¾ç½®grub2**  
**5.1æŸ¥çœ‹ç³»ç»Ÿé‡Œæ‰€æœ‰å¯ç”¨å†…æ ¸**  
```
# awk -F\' '$1=="menuentry " {print i++ ":" $2}' /etc/grub2.cfg
0:CentOS Linux (5.0.10-1.el7.elrepo.x86_64) 7 (Core)
è¿™é‡Œå·²ç»å‡çº§å®Œäº†
```
**5.2 è®¾ç½®grub2**  
ç¬¬ä¸€ç§æ–¹å¼ï¼Œ`grub2-set-default 0`  
```
grub2-set-default 0
```
ç¬¬äºŒç§æ–¹å¼ï¼Œç¼–è¾‘`/etc/default/grub`  
```
GRUB_TIMEOUT=5
GRUB_DISTRIBUTOR="$(sed 's, release .*$,,g' /etc/system-release)"
GRUB_DEFAULT=0 #é»˜è®¤ä¸ºsave
GRUB_DISABLE_SUBMENU=true
GRUB_TERMINAL_OUTPUT="console"
GRUB_CMDLINE_LINUX="net.ifnames=0 rhgb quiet"
GRUB_DISABLE_RECOVERY="true"
```
**5.3ç”Ÿæˆgrubé…ç½®æ–‡ä»¶å¹¶é‡å¯**  
```
grub2-mkconfig -o /boot/grub2/grub.cfg
reboot
```
**5.4éªŒè¯å†…æ ¸**  
```
# uname -r
5.0.10-1.el7.elrepo.x86_64
```
### åˆ é™¤æ—§å†…æ ¸(å¯é€‰)  
**1.æŸ¥çœ‹ç³»ç»Ÿå†…æ‰€æœ‰å·²å®‰è£…å†…æ ¸**  
```
rpm -qa|grep kernel
```
**2.æ¸…é™¤æ—§ç‰ˆå†…æ ¸**  
```
yum remove kernel-3.10.0-862.el7.x86_64 kernel-tools-3.10.0-957.10.1.el7.x86_64 kernel-3.10.0-957.10.1.el7.x86_64 kernel-tools-libs-3.10.0-957.10.1.el7.x86_64 kernel-headers-3.10.0-957.10.1.el7.x86_64
```

ç»“è¯­ï¼Œæ—§å†…æ ¸ç§»é™¤æ—¶ä¼šæ¸…é™¤ä¾èµ–åŒ…gccç­‰ï¼Œåç»­å¦‚æœéœ€è¦gccï¼Œä½¿ç”¨yumå®‰è£…çš„æ—¶å€™è¿˜ä¼šå®‰è£…åŸæ—§kernel-headerç­‰ä¾èµ–åŒ…ï¼Œå¹¶æ— å¤§ç¢ï¼Œå…³äºgccçš„å‡çº§ï¼Œç®—äº†ï¼Œæˆ‘é€‰æ‹©æ¢ç³»ç»ŸğŸ˜
